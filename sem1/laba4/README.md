# Лабараторная работа №5
### Цель:
* Освоить командные оболочки shell (для OS семейства Unix) и cmd (для OS семейства MS Windows): изучить основные встроенные команды, научиться писать файлы сценариев, научиться соотносить командные оболочки для разных OS.
* Освоить командное окружение для OS семейства Unix(утилиты из пакета GNU Core Utilities), и соответствующие им утилиты для OS семейства MS Windows.
### Задание:
Вариант 44:

Создать файл sh и bat, который выполняет следующее: 

На вход пакетному файлу приходит относительный путь к папке (как параметр пакетного файла). Если такой папки нет, то писать “Данной папки нет” и завершить выполнение программы. Если такая папка есть, то в ней и ее подкаталогах переименовать все файлы, добавив перед исходным названием файла число слов в этом файле.
### Bat файл:
<p  align="center"><img src="image51.jpg" ></p>

```
@echo off
Setlocal EnableDelayedExpansion

set "filename=%~1"

REM Проверка существования папки
if exist "%~dp0!filename!" (
cd /d %~dp0!filename!
) else ( 
echo "You don't have this dir" 
exit /b
)

REM Проход по всем файлам в директории и подкаталогах
for /R %%i in (*) do (
set /a n=0
REM Подсчет слов в файле
for /f "usebackq delims=" %%y in (%%i) do (
 for %%j in (%%y) do (
  set /a n+=1
 )
 
)
REM Переименование файлов
rename "%%i" "!n!_%%~ni%%~xi"
)
exit /b
```

### Sh файл:
<p  align="center"><img src="image52.jpg" ></p>

```
#!/bin/bash

# Сохранение пути к папке
folder="$1"

# Проверка существования директории
if [ ! -d "$folder" ]; then
    echo "Данной папки нет"
    exit 1
fi

# Проход по всем txt файлам в директории и подкаталогах
find "$folder" -type f -name "*.txt" | while read -r file; do
    n=$(wc -w < "$file")  # Подсчет количества слов в файле

    # Получение пути и имени файла
    dir=$(dirname "$file")
    base=$(basename "$file")

    # Переименование файла
    mv "$file" "$dir/${n}_$base"
done

exit 0
```
### Полезные сайты:
Подойдёт для тех, кто начал работать с bat файлами: [тык](https://help.reg.ru/support/servery-vps/oblachnyye-servery/rabota-s-serverom/kak-sozdat-bat-fayl-i-rabotat-s-nim#0).

Также можно почитать это: [тык](https://habr.com/ru/sandbox/168937/).

А здесь можно почитать про sh файлы: [тык](https://selectel.ru/blog/tutorials/linux-bash-scripting-guide/).
### Вывод:
Файлы с расширением .bat и .sh являются скриптовыми файлами, которые используются для автоматизации задач в операционных системах Windows и Unix/Linux соответственно. 

Оба типа файлов являются мощными инструментами для автоматизации и управления системами, но они предназначены для различных операционных систем и имеют свои уникальные особенности и возможности. Знание их различий и умений написания может существенно упростить выполнение рутинных задач и улучшить производительность работы.
