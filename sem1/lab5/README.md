# Лабараторная работа №5
### Цель:
* Освоить командные оболочки shell (для OS семейства Unix) и cmd (для OS семейства MS Windows): изучить основные встроенные команды, научиться писать файлы сценариев, научиться соотносить командные оболочки для разных OS.
* Освоить командное окружение для OS семейства Unix(утилиты из пакета GNU Core Utilities), и соответствующие им утилиты для OS семейства MS Windows.
* Необходимо на практике уметь выполнять всевозможные действия в командной оболочке и отвечать на теоретические вопросы.
### Задание:
* Познакомиться с консольными программными окружениями OS Windows и OS Linux.
* Получить практические навыки работы в консоли, использования консольных команд.
### Задание варианта 51:
Создать файл sh и bat, который выполняет следующее: 
На вход пакетному файлу приходит абсолютный путь к папке (как параметр пакетного файла). Если такой папки нет, то писать “Данной папки нет” и завершить выполнение программы. Если такая папка есть, то в ней и ее подкаталогах найти все файлы txt, взять у каждого из них 5-ю строку файла и записать их файл log.txt в порядке возрастания (по строкам).

### Bat файл:
<p  align="center"><img src="image1.png" ></p>

```
### Основные моменты:
* `@echo off` - отключает отображение команд

* `chcp 1251` - изменение текущей кодовой страницы

* `set "DIR=%~1"` - абсолютный путь к папке передан как первый аргумент

* `if "%~1"=="" ()` - проверка на наличие аргумента

* `if not exist "%DIR%" ()` - проверка существования папки

* `echo` - вывод текста

* `exit 1` - завершение с ошибкой

* `del` - удалить файл
```
### Sh файл:
<p  align="center"><img src="image.png" ></p>

```
# Абсолютный путь к папке передан как первый аргумент
set "DIR=%~1"

# Проверка существования папки
if not exist "%DIR%" (
    echo Данной папки нет
    exit  1
)
# Создаем временный файл
if exist log.txt del log.txt
if exist "%tempFile%" del "%tempFile%"
set "tempFile=%DIR%\temp_log.txt"
# Находим все .txt файлы и извлекаем 5-ю строку
for /r "%DIR%" %%f in (*.txt) do (
    set "lineCounter=0"
    set "line="

# Читаем строки из текущего файла и извлекаем 5-ю строку
for /f "usebackq delims=" %%l in ("%%f") do (
set /a lineCounter+=1
if !lineCounter! equ 5 
set "line=%%l"
echo !line! >> "%tempFile%"
# Прерываем внутренний цикл после нахождения 5-й строки
break
```        


### Вывод:
Файлы с расширением .bat и .sh являются скриптовыми файлами, которые используются для автоматизации задач в операционных системах Windows и Unix/Linux соответственно. 

Оба типа файлов являются мощными инструментами для автоматизации и управления системами, но они предназначены для различных операционных систем и имеют свои уникальные особенности и возможности. Знание их различий и умений написания может существенно упростить выполнение рутинных задач и улучшить производительность работы.
